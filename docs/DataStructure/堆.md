---
title: 堆
date: 2024-01-07
tags:
 - 数据结构
categories:
 - 数据结构
---


## 堆

1. 堆中的某个节点的值总是不大于或不小于其父节点的值
2. 堆总是一棵完全二叉树

### 堆的插入

堆的插入是将新元素放在数组后面，再通过与其父节点比较进行上浮。

### 堆的删除

堆每次只能删除堆顶元素，实际操作是将最后一个数据赋给根节点，然后再从根节点进行从上往下的调整。

### 构造最大堆

首先需要找到最后一个节点的父节点，从这个节点开始构造最大堆；直到该节点前面所有分支节点都处理完毕，最大堆就构建完毕。

```cpp
strcut MaxHeap
{
	Etype *heap; //数据元素存放的空间，下标从1开始存数数据，下标为0的作为工作空间，存储临时数据
	int HeapSize;//数据元素的个数
	int MaxSize; //存放数据元素空间的大小
};
MaxHeap H;
 
void MaxHeapInit (MaxHeap &H)
{
	for(int i = H.HeapSize/2; i>=1; i--)
	{
		H.heap[0] = H.heap[i];
		int son = i*2;
		while(son <= H.HeapSize)
		{
			if(son < H.HeapSize && H.heap[son] < H.heap[son+1])
				son++;
			if(H.heap[0] >= H.heap[son])
				break;
			else
			{
				H.heap[son/2] = H.heap[son];
				son *= 2;
			}
		}
		H.heap[son/2] = H.heap[0];
	}
}
```



