---
title: 组件间的通信
date: 2020-08-02
tags:
 - React
categories:
 - 前端笔记
---

## 方式一：通过props传递
1. 公共的数据放在父组件上，特有的数据放在自己组件内部
2. 通过props可以传递一般数据和函数数据，只能一层一层传递
3. 一般数据-->父组件传递数据给子组件-->子组件读取数据
4. 函数数据-->子组件传递数据给父组件-->子组件调用函数

## 方式二：使用消息订阅(subscribe)-发布(publish)机制
1. 工具库:PubSubJS
2. 下载`npm install pubsubjs --save`
3. 使用：
* `import PubSub from 'pubsub-js'`
* `PubSub.public('My Topic',"hello world")` //发布消息
* `PubSub.subscribe('My Topic',mySubscribe)`  //参数1：接收的消息名，参数2：回调函数

:::tip
回调函数有两个参数(msg,data),data才为传过来的值
:::