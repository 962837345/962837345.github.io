---
title: 解构
date: 2020-07-28
tags:
 - ES6
 - JS
categories:
 - 前端笔记 
---

## 数组的解构
ES6中允许从数组中提取值，按照对应位置，对变量赋值，对象也可以实现解构

示例：
```js
let [a,b,c] = [1,2,3];
console.log(a);
console.log(b);
console.log(c);
```
输出：
```
1
2
3
```

:::tip
如果解构不成功，变量的值为undefined
:::
示例：
```js
let [a,b,c,d,e] = [1,2,3];
console.log(a);
console.log(b);
console.log(c);
console.log(d);
console.log(e);
```
输出：
```
1
2
3
undefined
undefined
```

## 对象的解构
对象解构允许我们使用变量的名字匹配对象的属性，匹配成功，将对象属性的值赋值给变量

示例1：
```js
let person = { name: 'zhangsann', age: 20};
let {name, age} = person;
console.log(name);
console.log(age);
```
输出：
```
zhangsan
20
```
对象的解构也可以为变量取别名

示例2：
```js
let person = { name: 'zhangsann', age: 20};
let {name:myName, age: myAge} = person;     //myName和myAge为别名
console.log(myName);
console.log(myAge);
```
输出：
```
zhangsan
20
```

## 展开运算符解构赋值
展开运算符可以将数组或对象转为用逗号分隔的参数序列
```js
let arr = [1,2,3,4,5];
let [a,...b] = arr;
console.log(a);   // 1
console.log(b);   // [2,3,4,5]
```

## 展开运算符扩展
### 合并数组
方法一：
```js
let arr1 = [1,2,3];
let arr2 = [4,5,6];
let arr = [...arr1,...arr2];
console.log(arr)  // [1,2,3,4,5,6]
```

方法二：
```js
let arr1 = [1,2,3];
let arr2 = [4,5,6];
arr1.push(...arr2);
console.log(arr1);   // [1,2,3,4,5,6]
```

### 将伪数组转化为真正的数组
将伪数组转化为真正的数组，才可以调用数组的方法
```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Test</title>
</head>
<body>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<script>
  let divs = document.getElementsByTagName('div');
  console.log(divs);
  let arr = [...divs];
  arr.push('a');
  console.log(arr);
</script>
</body>
</html>
```
输出：
```
HTMLCollection(6) [div, div, div, div, div, div]
(7) [div, div, div, div, div, div, "a"]
```