---
title: JS中的栈和堆
date: 2020-07-24
tags:
 - JS
categories:
 - 前端笔记
---

## 栈和堆
栈(stack)：栈会自动分配内存空间，会自动释放，存放基本类型，简单的数据段，占据固定大小的空间。

基本类型：String，Number，Boolean，Null，Undefined

堆(heap):动态分配的内存，大小不定也不会自动释放，存放引用类型，指那些可能由多个值构成的对象，保存在堆内存中，包含引用类型的变量，实际上保存的不是变量本身，而是指向该对象的指针。

引用类型：Function，Array，Object

## 垃圾回收

```js
var obj = new Object();
obj = null;
```
创建一个obj对象，对象会在堆内存中创建一个空间存储，栈内存中的key为obj的value会指向堆内存中的该空间

当我们将obj赋值为null时，此时指向堆内存的链接就被断开了，此时堆内存中的那片空间就无法找到了，此时那片空间就是垃圾

在JS中拥有自动的垃圾回收机制，会自动将这样的垃圾对象从内存中销毁

当我们需要进行垃圾回收时，只需要使一个对象赋值为null就行