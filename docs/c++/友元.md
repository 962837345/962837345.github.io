---
title: 友元
date: 2023-02-19
tags:
 - C++
categories:
 - C++
---

友元的三种实现

* 全局函数做友元
* 类做友元
* 成员函数做友元

### 全局函数做友元

```CPP
#include <iostream>
#include <string>
using namespace std;

class Person 
{
    // 全局函数做友元
    friend void test();
public:
    Person(int a, int b)
    {
        this->a = a;
        this->b = b;
    }

public:
    int a;

private:
    int b;

};

void test()
{
    Person p1(10, 20);
    cout << "p1 a =" << p1.a << endl;
    cout << "p1 b =" << p1.b << endl;
}


int main()
{
    test();

    system("pause");

    return 0;
}
```

### 类做友元

```CPP
#include <iostream>
#include <string>
using namespace std;

class Person 
{
    // 类做友元
    friend class Person1;
public:
    Person(int a, int b)
    {
        this->a = a;
        this->b = b;
    }

public:
    int a;

private:
    int b;

};

class Person1
{
public:
    void visit();
};

void Person1::visit()
{
    Person p(10, 20);
    cout << "p a = " << p.a << endl;
    cout << "p b = " << p.b << endl;

}

void test()
{
    Person1 p1;
    p1.visit();
}


int main()
{
    test();

    system("pause");

    return 0;
}
```

### 成员函数做友元

```CPP
#include <iostream>
#include <string>
using namespace std;

class Person1
{
public:
    void visit();
};

class Person 
{
    // 成员函数做友元
    friend void Person1::visit();
public:
    Person(int a, int b)
    {
        this->a = a;
        this->b = b;
    }

public:
    int a;

private:
    int b;

};

void Person1::visit()
{
    Person p(10, 20);
    cout << "p a = " << p.a << endl;
    cout << "p b = " << p.b << endl;

}

void test()
{
    Person1 p1;
    p1.visit();
}


int main()
{
    test();

    system("pause");

    return 0;
}
```

