---
title: 输入和输出
date: 2021-04-18
tags:
  - python
categories:
  - Python之旅
---

## 输出

python 两种输出值的方式：表达式语句和`print()`函数

第三种方式是使用文件对象的`write()`方法，标准输出文件可以用`sys.stdout`

想要输出的形式更多样，可以使用`str.format()`来格式化输出

想要将输出的值转为字符串，可以使用`repr()`或`str()`函数来实现

- `str()`：函数返回一个用户易读的表达形式
- `repr()`：产生一个解释器易读的表达形式

```py
s = 'Hello, World!'

print(str(s))  # Hello, World!

print(repr(s))  # 'Hello, World!'

# repr()函数可以转义字符串中的特殊字符
hello = 'Hello, World\n'

print(repr(hello))  # 'Hello, World\n'

# repr()的参数可以是Python的任意对象
print(repr(('a', 'b', ('a', 'b'))))  # ('a', 'b', ('a', 'b'))
```

### format 格式化函数

格式化字符串的函数`str.format()`,通过`{}`和`:` 来代替以前的`%`

```py
"{} {}".format("hello", "world") # 不设置指定位置，按默认顺序
# 'hello word'

"{0} {1}".format("hello", "world") # 设置指定位置
# 'hello word'
```

```py
# 设置参数

"名字: {name}, 年龄: {age}".format(name="kellen", age=23)
# "名字: kellen, 年龄: 23"

# 通过字典设置参数
site = {"name"="kellen", "age"=23}
"名字: {name}, 年龄: {age}".format(**site)
# "名字: kellen, 年龄: 23"

# 通过列表索引设置参数
list = ['kellen', 18]
"名字: {0[0]}, 年龄: {0[1]}".format(list) # "0"是必须的

# 当传入的是一个字典时
dist = {'name': 'kellen', 'age': 18}

print("名字: {0[name]}, 年龄: {0[age]}".format(dist))  # "0"是必须的
# 在dist变量前使用`**`
print("名字: {name}, 年龄: {age}".format(**dist)) # 名字: kellen, 年龄: 18
```

`!a`(使用 ascii()),`!s`(使用 str())和`!r`(使用 repr())可以用于在格式化某个值之前对其进行转化

可选项`:`和格式标识符可以跟着字段名，进行更好的格式化

```py
import math

print('常量PI的值近似为:{}'.format(math.pi))  # 常量PI的值近似为:3.141592653589793
print('常量PI的值近似为:{!r}'.format(math.pi))  # 常量PI的值近似为:3.141592653589793
print('常量PI的值近似为:{0: .3f}'.format(math.pi))  # 常量PI的值近似为: 3.142
```

在`:`后面传入一个整数，可以保证该域至少有这么多的宽度。用于美化表格时很有用

```py
table = {'name': 'kellen', 'sex': 'man'}
for name, age in table.items():
    print('{0:10} ==> {1:10}'.format(name, age))

# name       ==> kellen
# sex        ==> man
```

## 输入
Python提供了`input()`从标准输入读入一行文本

```py
str = input('请输入:')
print('输入的内容是:', str)

# 请输入:kellen
# 输入的内容是: kellen
```

